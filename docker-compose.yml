version: '3'

services:
  mysql:
    image: mysql:latest
    ports:
      - "3305:3306"
    environment:
      - MYSQL_DATABASE=gorm
      - MYSQL_USER=gorm
      - MYSQL_PASSWORD=gorm
      - MYSQL_RANDOM_ROOT_PASSWORD="yes"  # https://dev.mysql.com/doc/refman/5.7/en/docker-mysql-more-topics.html#docker_var_mysql_random_root_password

  eureka:
    image: xdockerh/eureka-server:latest
    ports:
      - "8761:8761"

  minio:
    image: minio/minio
    volumes:
      - /home/minio/data:/data
      - /home/minio/config:/root/.minio
    command:
      - server --console-address ":9090" -address ":9000" /data #指定容器中的目录 /data
    environment:
      MINIO_ROOT_USER: tiktokMinio
      MINIO_ROOT_PASSWORD: tiktokMinio
    restart: always
    ports:
      - "9090:9090" # server
      - "9000:9000" # client